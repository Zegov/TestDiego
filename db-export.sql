-- H2 2.3.232;
SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS "H2USER" SALT '794566da597ca542' HASH '7e661a58becbf24da8e22ca0bdac147d4eb2b362db0136238fa0011771d26d9a' ADMIN;     
CREATE SEQUENCE "PUBLIC"."USUARIO_SEQ" START WITH 1 INCREMENT BY 50;          
CREATE GLOBAL TEMPORARY TABLE "PUBLIC"."HTE_USUARIO"(
    "ACTIVO" BOOLEAN,
    "RN_" INTEGER NOT NULL,
    "ID" BIGINT,
    "ULTIMO_INGRESO" TIMESTAMP(6),
    "USUARIO_FEC_CREACION" TIMESTAMP(6),
    "USUARIO_FEC_MODIFICACION" TIMESTAMP(6),
    "CORREO" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "TOKEN" CHARACTER VARYING(255)
);           
ALTER TABLE "PUBLIC"."HTE_USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_A" PRIMARY KEY("RN_"); 
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.HTE_USUARIO;             
CREATE MEMORY TABLE "PUBLIC"."TELEFONOS"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "COD_CIUDAD" CHARACTER VARYING(255),
    "COD_PAIS" CHARACTER VARYING(255),
    "NUMERO" CHARACTER VARYING(255)
);
ALTER TABLE "PUBLIC"."TELEFONOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_D" PRIMARY KEY("ID");    
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TELEFONOS;               
CREATE MEMORY TABLE "PUBLIC"."USUARIO"(
    "ACTIVO" BOOLEAN NOT NULL,
    "ID" BIGINT NOT NULL,
    "ULTIMO_INGRESO" TIMESTAMP(6),
    "USUARIO_FEC_CREACION" TIMESTAMP(6),
    "USUARIO_FEC_MODIFICACION" TIMESTAMP(6),
    "CORREO" CHARACTER VARYING(255),
    "NOMBRE" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "TOKEN" CHARACTER VARYING(255)
);    
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO; 
CREATE MEMORY TABLE "PUBLIC"."USUARIO_TELEFONOS"(
    "TELEFONOS_ID" BIGINT NOT NULL,
    "USUARIO_ID" BIGINT NOT NULL
);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO_TELEFONOS;       
ALTER TABLE "PUBLIC"."USUARIO_TELEFONOS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_1" UNIQUE NULLS DISTINCT ("TELEFONOS_ID");       
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" UNIQUE NULLS DISTINCT ("CORREO");       
ALTER TABLE "PUBLIC"."USUARIO_TELEFONOS" ADD CONSTRAINT "PUBLIC"."FK4QO89XNOC85H71NMV8TE2NO5T" FOREIGN KEY("USUARIO_ID") REFERENCES "PUBLIC"."USUARIO"("ID") NOCHECK;         
ALTER TABLE "PUBLIC"."USUARIO_TELEFONOS" ADD CONSTRAINT "PUBLIC"."FKPDYL98YFWS6P90KWBV87UT91P" FOREIGN KEY("TELEFONOS_ID") REFERENCES "PUBLIC"."TELEFONOS"("ID") NOCHECK;     
